# tmux-workflow (twf) config
#
# This file is read by:
# - scripts/codex_up_tmux.sh (build default `codex ...` command)
# - scripts/twf             (pick twf state dir + model defaults)
#
# Override config path:
#   TWF_CODEX_CMD_CONFIG=/path/to/twf_config.yaml
#
# Override state dir completely (highest priority, ignores twf_state_dir_mode):
#   TWF_STATE_DIR=/some/path

# Codex model selection
model: gpt-5.2
model_reasoning_effort: medium

# twf worker state directory mode (where twf writes its worker state JSON files):
# - auto:   <skill_root>/.twf/  (default; for project installs: ./.codex/skills/tmux-workflow/.twf/)
# - global: ~/.twf/             (shared across projects/worktrees)
# - manual: use twf_state_dir   (must be set)
twf_state_dir_mode: auto

# Only used when twf_state_dir_mode: manual
# Tip: use an absolute path to avoid ambiguity.
# Relative paths are resolved from the current working directory.
twf_state_dir: ""

# Optional dependency: multi-account load balancer
#
# When enabled, twf will ask a separate "load balancer" skill to:
# - choose which CODEX_HOME source to copy from for each worker, and
# - choose an auth credential file and copy it into worker home as `auth.json`,
# so many workers don't all share the same login credentials.
#
# Default is false (no dependency).
twf_use_load_balancer: true

# Optional override path to the load balancer command.
# If empty, twf auto-detects:
# - sibling project skill: ./.codex/skills/codex-load-balancer/scripts/clb
# - global install:        ~/.codex/skills/codex-load-balancer/scripts/clb
twf_load_balancer_cmd: ""

# Default profile/auth when load balancer is disabled
#
# When twf_use_load_balancer=false, you can optionally:
# - pass a Codex profile (equivalent to `codex -p <profile>`), and/or
# - inject an auth credential file (any filename) by copying its contents into
#   each worker's `CODEX_HOME/auth.json` (Codex only reads auth from `auth.json`).
#
# If these are empty or not set, behavior stays the same as before
# (use the synced template's default config/auth.json).
twf_profile: ""
twf_auth_src: ""

# Auth load balancing (AUTH_TEAM)
#
# When twf_use_load_balancer=true, twf will call `clb pick-auth` to select an auth
# credential file from AUTH_TEAM and copy it into the worker home as `auth.json`.
#
# - Recommended: set twf_auth_team_dir to a directory containing *only* auth files
#   to avoid accidentally selecting non-auth files.
twf_auth_team_dir: "/root/.codex/team"

# Which files to consider inside twf_auth_team_dir.
# Example: "auth.json.*" (matches auth.json.88code, auth.json.outlook-1, ...)
twf_auth_team_glob: "auth.json*"
